# 更新日志

## v1.1.0 (2025-12-03)

### 🆕 新增功能

#### 1. 设置模态框
- ✅ 新增设置页面，支持配置AI API密钥
- ✅ 支持选择AI模型（qwen-turbo / qwen-plus / qwen-max）
- ✅ 设置自动保存到本地存储
- ✅ 点击⚙按钮打开设置

#### 2. 全局搜索功能
- ✅ **重大改进**：搜索范围扩展到所有日期
- ✅ 实时显示匹配结果
- ✅ 搜索结果显示：日期、标题、完成状态
- ✅ 点击搜索结果直接跳转到对应日期
- ✅ 独立的搜索结果页面

#### 3. UI增强
- ✅ 现代化模态框设计
- ✅ 流畅的动画效果
- ✅ 优雅的搜索结果展示
- ✅ 响应式布局优化

### 🔧 技术改进

1. **移除外部依赖**
   - ❌ 移除Vue.js CDN
   - ✅ 完全使用原生JavaScript
   - ✅ 解决Chrome CSP（内容安全策略）问题

2. **代码架构优化**
   - 重构为ES6 Class结构
   - 改进事件处理机制
   - 优化DOM操作性能

3. **文件结构**
   ```
   popup/
   ├── index.html          # 新增设置模态框和搜索结果区域
   ├── main.js            # 完全重写，支持原生JavaScript
   └── popup.css          # 新增模态框和搜索结果样式
   ```

### 🐛 修复问题

1. **修复CSP错误**
   - 解决Chrome扩展拒绝加载外部脚本问题
   - 插件现在可以正常加载和运行

2. **修复搜索功能**
   - 之前：只能搜索选中日期的事件
   - 现在：可以搜索所有日期的事件

3. **修复设置功能**
   - 之前：只有alert提示"即将推出"
   - 现在：完整的设置界面

### 📋 功能清单

#### ✅ 已实现功能
- [x] 日历视图和日期选择
- [x] 增删改查待办事项
- [x] 动态背景色（根据事件数量）
- [x] 全局搜索（跨所有日期）
- [x] 搜索结果展示和跳转
- [x] 设置页面（API密钥配置）
- [x] AI智能总结（需配置API密钥）
- [x] 数据持久化存储
- [x] 原生JavaScript实现

#### 🔄 改进对比

| 功能 | v1.0.0 | v1.1.0 |
|-----|--------|--------|
| 搜索范围 | 仅选中日期 | 所有日期 |
| 搜索结果 | 无专门页面 | 独立展示页面 |
| 设置功能 | 提示"即将推出" | 完整设置页面 |
| 技术栈 | Vue.js + CDN | 原生JavaScript |
| CSP问题 | ❌ 不兼容 | ✅ 已解决 |

### 🚀 升级说明

**从v1.0.0升级到v1.1.0：**

1. 直接在Chrome扩展管理页面点击"重新加载"
2. 所有数据会自动保留
3. 如需使用AI功能，请在设置中配置API密钥

### 🎯 下个版本计划

v1.2.0 计划功能：
- [ ] 拖拽移动待办事项到其他日期
- [ ] 添加待办事项描述字段
- [ ] 支持任务优先级
- [ ] 导出功能（CSV/JSON）
- [ ] 深色主题支持
- [ ] 键盘快捷键

---

## v1.0.0 (2025-12-03)

### ✨ 初始版本

- ✅ 基础日历视图
- ✅ 待办事项增删改查
- ✅ 动态背景色
- ✅ AI总结功能（基础版）
- ✅ Chrome Storage API集成

---

**感谢使用日常待办管理器！** 🎉
